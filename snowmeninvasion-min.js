c.width=w=640,c.height=h=480,I=c=X=Y=O=0,B="#000",n=Math.random,H=[],M=[];for(i=9;i--;)M.push([n()*w,n()*h-h,n()/2+.3,50+n()*50]);onmousemove=function(a){X=a.clientX,Y=a.clientY},setInterval(function(){with(a){a.P=beginPath,a.L=lineTo,f="fillStyle",a.F=fill,a.C=function(b,c,d){a.arc(b,c,d,0,Math.PI*2,1)},N=(new Date).getTime(),d=O?(N-O)/999:0,O=N,a[f]="#DEF",fillRect(0,0,w,h),A=Math.atan((h-Y)/(w/2-X))-(X<w/2?3.1:0),!(c++%10)&&H.push([w/2,h,A]),a[f]=B,fillText(I,20,20),C(w/2,h,5),F();for(i=H.length;i--;)P(),S=H[i],C(S[0],S[1],2),S[0]+=d*200*Math.cos(S[2]),S[1]+=d*200*Math.sin(S[2]),F(),S[1]<0&&H.splice(i,1);a[f]="#fff";for(i=9;i--;){m=M[i],x=m[0],y=m[1],s=m[2],m[1]+=d*m[3],y>h&&(m[1]=-9,I=I-9);for(j=H.length;j--;)l=H[j],Math.sqrt((x-l[0])*(x-l[0])+(y-l[1])*(y-l[1]))<=20&&(m[1]=l[1]=-100,I++);save(),translate(x,y),scale(s,s),P(),C(0,30,20),C(0,0,15),F(),a[f]=B,P(),C(-5,-5,2),C(5,-6,2),F(),P(),moveTo(-3,6),L(3,6),stroke(),a[f]="#EC7",P(),C(0,0,3),F(),restore()}}},1e3/60)